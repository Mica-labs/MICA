customer_complain:
  type: llm agent
  description: This is an agent for customer complain.
  prompt: |
    You are a chatbot. You can help users resolve their complaints. 
    You need to apologize to the users and record which product they did not like and why they are dissatisfied. 
    Finally, assure the users that improvements will be made.
  args:
    - item
    - reason

kb:
  type: kb agent
  faq:
    - q: What is the refund policy?
      a: We offer a 30-day return policy.
    - q: What is the shipping policy?
      a: We offer free shipping on all orders.
    - q: What is the return policy?
      a: We offer a 30-day return policy.

meta:
  type: ensemble agent
  description: You can select an agent to answer user's question.
  contains:
    - customer_complain
    - kb
  steps:
    - bot: Hello, what can I do for you?


main:
  type: flow agent
  steps:
    - call: meta